<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>RelationFromChaos</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Background">IRI doesn&#39;t have this, but maybe this can be reformulated in terms of QERs

</a><a id="77" class="Markup">```
</a><a id="81" class="Symbol">{-#</a> <a id="85" class="Keyword">OPTIONS</a> <a id="93" class="Pragma">--cubical</a> <a id="103" class="Symbol">#-}</a>

<a id="108" class="Keyword">module</a> <a id="115" href="RelationFromChaos.html" class="Module">RelationFromChaos</a> <a id="133" class="Keyword">where</a>

<a id="140" class="Keyword">private</a> <a id="148" class="Keyword">variable</a>
  <a id="159" href="RelationFromChaos.html#159" class="Generalizable">A</a> <a id="161" href="RelationFromChaos.html#161" class="Generalizable">B</a> <a id="163" class="Symbol">:</a> <a id="165" href="Agda.Primitive.html#326" class="Primitive">Set</a>
  <a id="171" href="RelationFromChaos.html#171" class="Generalizable">x</a> <a id="173" href="RelationFromChaos.html#173" class="Generalizable">y</a> <a id="175" href="RelationFromChaos.html#175" class="Generalizable">z</a> <a id="177" href="RelationFromChaos.html#177" class="Generalizable">w</a> <a id="179" class="Symbol">:</a> <a id="181" href="RelationFromChaos.html#159" class="Generalizable">A</a>
<a id="183" class="Markup">```
</a><a id="187" class="Background">
Suppose we are given a pair of functions f : A → B and g : B → A.
When we are applying SIP or representation independence, we of course have that f and g are inverses, yielding an equivalence and by SIP a path.

In the example of ListQueue≃BatchedQueue, we have that f and g aren&#39;t exactly inverses, but instead f is injective and g is surjective.
Quotienting the BatchedQueue by the appropriate relation improves them to an equivalence.

Note that we actually did not have to find this appropriate relation:
it is the same as prop. truncating the fibers of g, or relating x ~ y iff g x = g y.

What happens if we drop the assumptions on f and g?
Propositionally truncating the fibers of g would not work, as they need not stay contractible like before.

Taking (only) x ~ y iff g x = g y and z ~ w iff f z = f w
would not work: x and y can be in the fiber of f over z, while their fibers in g need not be identical.



Not yet sure whether only having f or both f and g makes a big difference.
90We can do two things:

Number one is forming the relations
</a><a id="1244" class="Markup">```
</a><a id="1248" class="Keyword">module</a> <a id="1255" href="RelationFromChaos.html#1255" class="Module">_</a> <a id="1257" class="Symbol">{</a><a id="1258" href="RelationFromChaos.html#1258" class="Bound">A</a> <a id="1260" href="RelationFromChaos.html#1260" class="Bound">B</a> <a id="1262" class="Symbol">:</a> <a id="1264" href="Agda.Primitive.html#326" class="Primitive">Set</a><a id="1267" class="Symbol">}</a> <a id="1269" class="Symbol">(</a><a id="1270" href="RelationFromChaos.html#1270" class="Bound">f</a> <a id="1272" class="Symbol">:</a> <a id="1274" href="RelationFromChaos.html#1258" class="Bound">A</a> <a id="1276" class="Symbol">→</a> <a id="1278" href="RelationFromChaos.html#1260" class="Bound">B</a><a id="1279" class="Symbol">)</a> <a id="1281" class="Symbol">(</a><a id="1282" href="RelationFromChaos.html#1282" class="Bound">g</a> <a id="1284" class="Symbol">:</a> <a id="1286" href="RelationFromChaos.html#1260" class="Bound">B</a> <a id="1288" class="Symbol">→</a> <a id="1290" href="RelationFromChaos.html#1258" class="Bound">A</a><a id="1291" class="Symbol">)</a> <a id="1293" class="Keyword">where</a>
  <a id="1301" class="Keyword">data</a> <a id="1306" href="RelationFromChaos.html#1306" class="Datatype">ChaosL</a> <a id="1313" class="Symbol">:</a> <a id="1315" href="RelationFromChaos.html#1258" class="Bound">A</a> <a id="1317" class="Symbol">→</a> <a id="1319" href="RelationFromChaos.html#1258" class="Bound">A</a> <a id="1321" class="Symbol">→</a> <a id="1323" href="Agda.Primitive.html#326" class="Primitive">Set</a>
  <a id="1329" class="Keyword">data</a> <a id="1334" href="RelationFromChaos.html#1334" class="Datatype">ChaosR</a> <a id="1341" class="Symbol">:</a> <a id="1343" href="RelationFromChaos.html#1260" class="Bound">B</a> <a id="1345" class="Symbol">→</a> <a id="1347" href="RelationFromChaos.html#1260" class="Bound">B</a> <a id="1349" class="Symbol">→</a> <a id="1351" href="Agda.Primitive.html#326" class="Primitive">Set</a>

  <a id="1358" class="Comment">-- that&#39;s not very prop. of you</a>
  <a id="1392" class="Keyword">data</a> <a id="1397" href="RelationFromChaos.html#1306" class="Datatype">ChaosL</a> <a id="1404" class="Keyword">where</a>
    <a id="1414" href="RelationFromChaos.html#1414" class="InductiveConstructor">refL</a> <a id="1419" class="Symbol">:</a> <a id="1421" href="RelationFromChaos.html#1306" class="Datatype">ChaosL</a> <a id="1428" href="RelationFromChaos.html#171" class="Generalizable">x</a> <a id="1430" href="RelationFromChaos.html#171" class="Generalizable">x</a>
    <a id="1436" href="RelationFromChaos.html#1436" class="InductiveConstructor">conL</a> <a id="1441" class="Symbol">:</a> <a id="1443" href="RelationFromChaos.html#1334" class="Datatype">ChaosR</a> <a id="1450" href="RelationFromChaos.html#171" class="Generalizable">x</a> <a id="1452" href="RelationFromChaos.html#173" class="Generalizable">y</a> <a id="1454" class="Symbol">→</a> <a id="1456" href="RelationFromChaos.html#1306" class="Datatype">ChaosL</a> <a id="1463" class="Symbol">(</a><a id="1464" href="RelationFromChaos.html#1282" class="Bound">g</a> <a id="1466" href="RelationFromChaos.html#171" class="Generalizable">x</a><a id="1467" class="Symbol">)</a> <a id="1469" class="Symbol">(</a><a id="1470" href="RelationFromChaos.html#1282" class="Bound">g</a> <a id="1472" href="RelationFromChaos.html#173" class="Generalizable">y</a><a id="1473" class="Symbol">)</a>
    <a id="1479" href="RelationFromChaos.html#1479" class="InductiveConstructor">tran</a> <a id="1484" class="Symbol">:</a> <a id="1486" href="RelationFromChaos.html#1306" class="Datatype">ChaosL</a> <a id="1493" href="RelationFromChaos.html#171" class="Generalizable">x</a> <a id="1495" href="RelationFromChaos.html#173" class="Generalizable">y</a> <a id="1497" class="Symbol">→</a> <a id="1499" href="RelationFromChaos.html#1306" class="Datatype">ChaosL</a> <a id="1506" href="RelationFromChaos.html#173" class="Generalizable">y</a> <a id="1508" href="RelationFromChaos.html#175" class="Generalizable">z</a> <a id="1510" class="Symbol">→</a> <a id="1512" href="RelationFromChaos.html#1306" class="Datatype">ChaosL</a> <a id="1519" href="RelationFromChaos.html#171" class="Generalizable">x</a> <a id="1521" href="RelationFromChaos.html#175" class="Generalizable">z</a>
    <a id="1527" href="RelationFromChaos.html#1527" class="InductiveConstructor">symm</a> <a id="1532" class="Symbol">:</a> <a id="1534" href="RelationFromChaos.html#1306" class="Datatype">ChaosL</a> <a id="1541" href="RelationFromChaos.html#171" class="Generalizable">x</a> <a id="1543" href="RelationFromChaos.html#173" class="Generalizable">y</a> <a id="1545" class="Symbol">→</a> <a id="1547" href="RelationFromChaos.html#1306" class="Datatype">ChaosL</a> <a id="1554" href="RelationFromChaos.html#173" class="Generalizable">y</a> <a id="1556" href="RelationFromChaos.html#171" class="Generalizable">x</a>

  <a id="1561" class="Keyword">data</a> <a id="1566" href="RelationFromChaos.html#1334" class="Datatype">ChaosR</a> <a id="1573" class="Keyword">where</a>
    <a id="1583" href="RelationFromChaos.html#1583" class="InductiveConstructor">refR</a> <a id="1588" class="Symbol">:</a> <a id="1590" href="RelationFromChaos.html#1334" class="Datatype">ChaosR</a> <a id="1597" href="RelationFromChaos.html#171" class="Generalizable">x</a> <a id="1599" href="RelationFromChaos.html#171" class="Generalizable">x</a>
    <a id="1605" href="RelationFromChaos.html#1605" class="InductiveConstructor">conR</a> <a id="1610" class="Symbol">:</a> <a id="1612" href="RelationFromChaos.html#1306" class="Datatype">ChaosL</a> <a id="1619" href="RelationFromChaos.html#171" class="Generalizable">x</a> <a id="1621" href="RelationFromChaos.html#173" class="Generalizable">y</a> <a id="1623" class="Symbol">→</a> <a id="1625" href="RelationFromChaos.html#1334" class="Datatype">ChaosR</a> <a id="1632" class="Symbol">(</a><a id="1633" href="RelationFromChaos.html#1270" class="Bound">f</a> <a id="1635" href="RelationFromChaos.html#171" class="Generalizable">x</a><a id="1636" class="Symbol">)</a> <a id="1638" class="Symbol">(</a><a id="1639" href="RelationFromChaos.html#1270" class="Bound">f</a> <a id="1641" href="RelationFromChaos.html#173" class="Generalizable">y</a><a id="1642" class="Symbol">)</a>
    <a id="1648" href="RelationFromChaos.html#1648" class="InductiveConstructor">tran</a> <a id="1653" class="Symbol">:</a> <a id="1655" href="RelationFromChaos.html#1334" class="Datatype">ChaosR</a> <a id="1662" href="RelationFromChaos.html#171" class="Generalizable">x</a> <a id="1664" href="RelationFromChaos.html#173" class="Generalizable">y</a> <a id="1666" class="Symbol">→</a> <a id="1668" href="RelationFromChaos.html#1334" class="Datatype">ChaosR</a> <a id="1675" href="RelationFromChaos.html#173" class="Generalizable">y</a> <a id="1677" href="RelationFromChaos.html#175" class="Generalizable">z</a> <a id="1679" class="Symbol">→</a> <a id="1681" href="RelationFromChaos.html#1334" class="Datatype">ChaosR</a> <a id="1688" href="RelationFromChaos.html#171" class="Generalizable">x</a> <a id="1690" href="RelationFromChaos.html#175" class="Generalizable">z</a>
    <a id="1696" href="RelationFromChaos.html#1696" class="InductiveConstructor">symm</a> <a id="1701" class="Symbol">:</a> <a id="1703" href="RelationFromChaos.html#1334" class="Datatype">ChaosR</a> <a id="1710" href="RelationFromChaos.html#171" class="Generalizable">x</a> <a id="1712" href="RelationFromChaos.html#173" class="Generalizable">y</a> <a id="1714" class="Symbol">→</a> <a id="1716" href="RelationFromChaos.html#1334" class="Datatype">ChaosR</a> <a id="1723" href="RelationFromChaos.html#173" class="Generalizable">y</a> <a id="1725" href="RelationFromChaos.html#171" class="Generalizable">x</a>
<a id="1727" class="Markup">```
</a><a id="1731" class="Background">and then subtyping A and B to the images of g and f respectively.
Which doesn&#39;t seem very helpful.

Instead if we only consider f, we can force it to become an equivalence more directly.
That is, we truncate the fibers, and restrict to the image.

In fact, part of this is already worked out in the cubical library.
We still have to force f to become an embedding, after which we can use isEquivEmbeddingOntoImage.
</a><a id="2146" class="Markup">```
</a><a id="2150" class="Keyword">open</a> <a id="2155" class="Keyword">import</a> <a id="2162" href="Prelude.html" class="Module">Prelude</a>
<a id="2170" class="Keyword">open</a> <a id="2175" class="Keyword">import</a> <a id="2182" href="Cubical.Functions.Embedding.html" class="Module">Cubical.Functions.Embedding</a>
<a id="2210" class="Keyword">open</a> <a id="2215" class="Keyword">import</a> <a id="2222" href="Cubical.HITs.SetQuotients.html" class="Module">Cubical.HITs.SetQuotients</a> <a id="2248" class="Symbol">as</a> <a id="2251" class="Module">SQ</a>
<a id="2254" class="Keyword">open</a> <a id="2259" class="Keyword">import</a> <a id="2266" href="Cubical.Relation.Binary.Base.html" class="Module">Cubical.Relation.Binary.Base</a>
<a id="2295" class="Keyword">open</a> <a id="2300" class="Keyword">import</a> <a id="2307" href="Cubical.Functions.Image.html" class="Module">Cubical.Functions.Image</a>
<a id="2331" class="Keyword">open</a> <a id="2336" href="Cubical.Relation.Binary.Base.html#1455" class="Module">BinaryRelation</a>

<a id="2352" class="Keyword">module</a> <a id="2359" href="RelationFromChaos.html#2359" class="Module">_</a> <a id="2361" class="Symbol">{</a><a id="2362" href="RelationFromChaos.html#2362" class="Bound">dom</a> <a id="2366" href="RelationFromChaos.html#2366" class="Bound">cod</a> <a id="2370" class="Symbol">:</a> <a id="2372" href="Agda.Primitive.html#326" class="Primitive">Type</a><a id="2376" class="Symbol">}</a> <a id="2378" class="Symbol">(</a><a id="2379" href="RelationFromChaos.html#2379" class="Bound">isSetCod</a> <a id="2388" class="Symbol">:</a> <a id="2390" href="Cubical.Foundations.Prelude.html#14065" class="Function">isSet</a> <a id="2396" href="RelationFromChaos.html#2366" class="Bound">cod</a><a id="2399" class="Symbol">)</a> <a id="2401" class="Symbol">(</a><a id="2402" href="RelationFromChaos.html#2402" class="Bound">f</a> <a id="2404" class="Symbol">:</a> <a id="2406" href="RelationFromChaos.html#2362" class="Bound">dom</a> <a id="2410" class="Symbol">→</a> <a id="2412" href="RelationFromChaos.html#2366" class="Bound">cod</a><a id="2415" class="Symbol">)</a> <a id="2417" class="Keyword">where</a>
  <a id="2425" href="RelationFromChaos.html#2425" class="Function">fiberRel</a> <a id="2434" class="Symbol">:</a> <a id="2436" href="RelationFromChaos.html#2362" class="Bound">dom</a> <a id="2440" class="Symbol">→</a> <a id="2442" href="RelationFromChaos.html#2362" class="Bound">dom</a> <a id="2446" class="Symbol">→</a> <a id="2448" href="Agda.Primitive.html#326" class="Primitive">Type</a>
  <a id="2455" href="RelationFromChaos.html#2425" class="Function">fiberRel</a> <a id="2464" href="RelationFromChaos.html#2464" class="Bound">x</a> <a id="2466" href="RelationFromChaos.html#2466" class="Bound">y</a> <a id="2468" class="Symbol">=</a> <a id="2470" href="RelationFromChaos.html#2402" class="Bound">f</a> <a id="2472" href="RelationFromChaos.html#2464" class="Bound">x</a> <a id="2474" href="Agda.Builtin.Cubical.Path.html#381" class="Function Operator">≡</a> <a id="2476" href="RelationFromChaos.html#2402" class="Bound">f</a> <a id="2478" href="RelationFromChaos.html#2466" class="Bound">y</a>

  <a id="2483" href="RelationFromChaos.html#2483" class="Function">dom&#39;</a> <a id="2488" class="Symbol">:</a> <a id="2490" href="Agda.Primitive.html#326" class="Primitive">Type</a>
  <a id="2497" href="RelationFromChaos.html#2483" class="Function">dom&#39;</a> <a id="2502" class="Symbol">=</a> <a id="2504" href="RelationFromChaos.html#2362" class="Bound">dom</a> <a id="2508" href="Cubical.HITs.SetQuotients.Base.html#215" class="Datatype Operator">/</a> <a id="2510" href="RelationFromChaos.html#2425" class="Function">fiberRel</a>

  <a id="2522" href="RelationFromChaos.html#2522" class="Function">fiberTrunc</a> <a id="2533" class="Symbol">:</a> <a id="2535" href="RelationFromChaos.html#2483" class="Function">dom&#39;</a> <a id="2540" class="Symbol">→</a> <a id="2542" href="RelationFromChaos.html#2366" class="Bound">cod</a>
  <a id="2548" href="RelationFromChaos.html#2522" class="Function">fiberTrunc</a> <a id="2559" class="Symbol">=</a> <a id="2561" href="Cubical.HITs.SetQuotients.Properties.html#3095" class="Function">SQ.rec</a> <a id="2568" href="RelationFromChaos.html#2379" class="Bound">isSetCod</a> <a id="2577" href="RelationFromChaos.html#2402" class="Bound">f</a> <a id="2579" class="Symbol">(λ</a> <a id="2582" href="RelationFromChaos.html#2582" class="Bound">a</a> <a id="2584" href="RelationFromChaos.html#2584" class="Bound">b</a> <a id="2586" href="RelationFromChaos.html#2586" class="Bound">r</a> <a id="2588" class="Symbol">→</a> <a id="2590" href="RelationFromChaos.html#2586" class="Bound">r</a><a id="2591" class="Symbol">)</a>

  <a id="2596" href="RelationFromChaos.html#2596" class="Function">isPropValuedFiberRel</a> <a id="2617" class="Symbol">:</a> <a id="2619" href="Cubical.Relation.Binary.Base.html#2245" class="Function">isPropValued</a> <a id="2632" href="RelationFromChaos.html#2425" class="Function">fiberRel</a>
  <a id="2643" href="RelationFromChaos.html#2596" class="Function">isPropValuedFiberRel</a> <a id="2664" href="RelationFromChaos.html#2664" class="Bound">a</a> <a id="2666" href="RelationFromChaos.html#2666" class="Bound">b</a> <a id="2668" class="Symbol">=</a> <a id="2670" href="RelationFromChaos.html#2379" class="Bound">isSetCod</a> <a id="2679" class="Symbol">(</a><a id="2680" href="RelationFromChaos.html#2402" class="Bound">f</a> <a id="2682" href="RelationFromChaos.html#2664" class="Bound">a</a><a id="2683" class="Symbol">)</a> <a id="2685" class="Symbol">(</a><a id="2686" href="RelationFromChaos.html#2402" class="Bound">f</a> <a id="2688" href="RelationFromChaos.html#2666" class="Bound">b</a><a id="2689" class="Symbol">)</a>

  <a id="2694" href="RelationFromChaos.html#2694" class="Function">isEquivRelFiberRel</a> <a id="2713" class="Symbol">:</a> <a id="2715" href="Cubical.Relation.Binary.Base.html#1813" class="Record">isEquivRel</a> <a id="2726" href="RelationFromChaos.html#2425" class="Function">fiberRel</a>
  <a id="2737" href="Cubical.Relation.Binary.Base.html#1891" class="Field">isEquivRel.reflexive</a>  <a id="2759" href="RelationFromChaos.html#2694" class="Function">isEquivRelFiberRel</a> <a id="2778" class="Symbol">=</a> <a id="2780" class="Symbol">λ</a> <a id="2782" href="RelationFromChaos.html#2782" class="Bound">_</a> <a id="2784" class="Symbol">→</a> <a id="2786" href="Cubical.Data.Equality.html#276" class="Function">refl</a>
  <a id="2793" href="Cubical.Relation.Binary.Base.html#1916" class="Field">isEquivRel.symmetric</a>  <a id="2815" href="RelationFromChaos.html#2694" class="Function">isEquivRelFiberRel</a> <a id="2834" class="Symbol">=</a> <a id="2836" class="Symbol">λ</a> <a id="2838" href="RelationFromChaos.html#2838" class="Bound">_</a> <a id="2840" href="RelationFromChaos.html#2840" class="Bound">_</a> <a id="2842" class="Symbol">→</a> <a id="2844" href="Cubical.Data.Equality.html#419" class="Function">sym</a>
  <a id="2850" href="Cubical.Relation.Binary.Base.html#1940" class="Field">isEquivRel.transitive</a> <a id="2872" href="RelationFromChaos.html#2694" class="Function">isEquivRelFiberRel</a> <a id="2891" class="Symbol">=</a> <a id="2893" class="Symbol">λ</a> <a id="2895" href="RelationFromChaos.html#2895" class="Bound">_</a> <a id="2897" href="RelationFromChaos.html#2897" class="Bound">_</a> <a id="2899" href="RelationFromChaos.html#2899" class="Bound">_</a> <a id="2901" class="Symbol">→</a> <a id="2903" href="Cubical.Data.Equality.html#453" class="Function Operator">_∙_</a>
  
  <a id="2912" href="RelationFromChaos.html#2912" class="Function">lemma</a> <a id="2918" class="Symbol">:</a> <a id="2920" class="Symbol">∀</a> <a id="2922" href="RelationFromChaos.html#2922" class="Bound">x</a> <a id="2924" href="RelationFromChaos.html#2924" class="Bound">y</a> <a id="2926" class="Symbol">→</a> <a id="2928" href="RelationFromChaos.html#2522" class="Function">fiberTrunc</a> <a id="2939" href="RelationFromChaos.html#2922" class="Bound">x</a> <a id="2941" href="Agda.Builtin.Cubical.Path.html#381" class="Function Operator">≡</a> <a id="2943" href="RelationFromChaos.html#2522" class="Function">fiberTrunc</a> <a id="2954" href="RelationFromChaos.html#2924" class="Bound">y</a> <a id="2956" class="Symbol">→</a> <a id="2958" href="RelationFromChaos.html#2922" class="Bound">x</a> <a id="2960" href="Agda.Builtin.Cubical.Path.html#381" class="Function Operator">≡</a> <a id="2962" href="RelationFromChaos.html#2924" class="Bound">y</a>
  <a id="2966" href="RelationFromChaos.html#2912" class="Function">lemma</a> <a id="2972" class="Symbol">=</a> <a id="2974" href="Cubical.HITs.SetQuotients.Properties.html#1420" class="Function">elimProp2</a> <a id="2984" class="Symbol">(λ</a> <a id="2987" href="RelationFromChaos.html#2987" class="Bound">x</a> <a id="2989" href="RelationFromChaos.html#2989" class="Bound">y</a> <a id="2991" class="Symbol">→</a> <a id="2993" href="Cubical.Foundations.HLevels.html#16363" class="Function">isPropΠ</a> <a id="3001" class="Symbol">(λ</a> <a id="3004" href="RelationFromChaos.html#3004" class="Bound">_</a> <a id="3006" class="Symbol">→</a> <a id="3008" href="Cubical.HITs.SetQuotients.Base.html#361" class="InductiveConstructor">squash/</a> <a id="3016" href="RelationFromChaos.html#2987" class="Bound">x</a> <a id="3018" href="RelationFromChaos.html#2989" class="Bound">y</a><a id="3019" class="Symbol">))</a> <a id="3022" class="Symbol">λ</a> <a id="3024" href="RelationFromChaos.html#3024" class="Bound">a</a> <a id="3026" href="RelationFromChaos.html#3026" class="Bound">b</a> <a id="3028" class="Symbol">→</a> <a id="3030" href="Cubical.HITs.SetQuotients.Base.html#313" class="InductiveConstructor">eq/</a> <a id="3034" href="RelationFromChaos.html#3024" class="Bound">a</a> <a id="3036" href="RelationFromChaos.html#3026" class="Bound">b</a> 

  <a id="3042" href="RelationFromChaos.html#3042" class="Function">fiberTruncIsEmbedding</a> <a id="3064" class="Symbol">:</a> <a id="3066" href="Cubical.Functions.Embedding.html#1279" class="Function">isEmbedding</a> <a id="3078" href="RelationFromChaos.html#2522" class="Function">fiberTrunc</a>
  <a id="3091" href="RelationFromChaos.html#3042" class="Function">fiberTruncIsEmbedding</a> <a id="3113" href="RelationFromChaos.html#3113" class="Bound">x</a> <a id="3115" href="RelationFromChaos.html#3115" class="Bound">y</a> <a id="3117" class="Symbol">=</a> <a id="3119" href="RelationFromChaos.html#3147" class="Function">isEquiv-proof</a>
    <a id="3137" class="Keyword">where</a>
    <a id="3147" href="RelationFromChaos.html#3147" class="Function">isEquiv-proof</a> <a id="3161" class="Symbol">:</a> <a id="3163" class="Symbol">∀</a> <a id="3165" class="Symbol">{</a><a id="3166" href="RelationFromChaos.html#3166" class="Bound">x</a> <a id="3168" href="RelationFromChaos.html#3168" class="Bound">y</a><a id="3169" class="Symbol">}</a> <a id="3171" class="Symbol">→</a> <a id="3173" href="Agda.Builtin.Cubical.Glue.html#868" class="Record">isEquiv</a> <a id="3181" class="Symbol">(</a><a id="3182" href="Cubical.Data.Equality.html#488" class="Function">cong</a> <a id="3187" class="Symbol">{</a><a id="3188" class="Argument">x</a> <a id="3190" class="Symbol">=</a> <a id="3192" href="RelationFromChaos.html#3166" class="Bound">x</a><a id="3193" class="Symbol">}</a> <a id="3195" class="Symbol">{</a><a id="3196" class="Argument">y</a> <a id="3198" class="Symbol">=</a> <a id="3200" href="RelationFromChaos.html#3168" class="Bound">y</a><a id="3201" class="Symbol">}</a> <a id="3203" href="RelationFromChaos.html#2522" class="Function">fiberTrunc</a><a id="3213" class="Symbol">)</a>
    <a id="3219" href="Agda.Builtin.Cubical.Glue.html#971" class="Field">equiv-proof</a> <a id="3231" href="RelationFromChaos.html#3147" class="Function">isEquiv-proof</a> <a id="3245" href="RelationFromChaos.html#3245" class="Bound">p</a> <a id="3247" class="Symbol">=</a> <a id="3249" class="Symbol">(</a><a id="3250" href="RelationFromChaos.html#2912" class="Function">lemma</a> <a id="3256" class="Symbol">_</a> <a id="3258" class="Symbol">_</a> <a id="3260" href="RelationFromChaos.html#3245" class="Bound">p</a> <a id="3262" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3264" href="RelationFromChaos.html#2379" class="Bound">isSetCod</a> <a id="3273" class="Symbol">_</a> <a id="3275" class="Symbol">_</a> <a id="3277" class="Symbol">_</a> <a id="3279" href="RelationFromChaos.html#3245" class="Bound">p</a><a id="3280" class="Symbol">)</a> <a id="3282" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3284" class="Symbol">(λ</a> <a id="3287" href="RelationFromChaos.html#3287" class="Bound">q</a> <a id="3289" class="Symbol">→</a> <a id="3291" href="Cubical.Foundations.HLevels.html#12387" class="Function">isPropΣ</a> <a id="3299" class="Symbol">(</a><a id="3300" href="Cubical.HITs.SetQuotients.Base.html#361" class="InductiveConstructor">squash/</a> <a id="3308" class="Symbol">_</a> <a id="3310" class="Symbol">_)</a> <a id="3313" class="Symbol">(λ</a> <a id="3316" href="RelationFromChaos.html#3316" class="Bound">_</a> <a id="3318" class="Symbol">→</a> <a id="3320" href="Cubical.Foundations.HLevels.html#2243" class="Function">isOfHLevelSuc</a> <a id="3334" class="Number">2</a> <a id="3336" href="RelationFromChaos.html#2379" class="Bound">isSetCod</a> <a id="3345" class="Symbol">_</a> <a id="3347" class="Symbol">_</a> <a id="3349" class="Symbol">_</a> <a id="3351" class="Symbol">_)</a> <a id="3354" class="Symbol">_</a> <a id="3356" class="Symbol">_)</a>

  <a id="3362" href="RelationFromChaos.html#3362" class="Function">crude</a> <a id="3368" class="Symbol">=</a> <a id="3370" href="Cubical.Functions.Image.html#1051" class="Function">restrictToImage</a> <a id="3386" href="RelationFromChaos.html#2522" class="Function">fiberTrunc</a>
  
  <a id="3402" href="RelationFromChaos.html#3402" class="Function">crudeIsEquiv</a> <a id="3415" class="Symbol">:</a> <a id="3417" href="Agda.Builtin.Cubical.Glue.html#868" class="Record">isEquiv</a> <a id="3425" href="RelationFromChaos.html#3362" class="Function">crude</a>
  <a id="3433" href="RelationFromChaos.html#3402" class="Function">crudeIsEquiv</a> <a id="3446" class="Symbol">=</a> <a id="3448" href="Cubical.Functions.Image.html#2450" class="Function">isEquivEmbeddingOntoImage</a> <a id="3474" class="Symbol">(</a><a id="3475" href="RelationFromChaos.html#2522" class="Function">fiberTrunc</a> <a id="3486" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="3488" href="RelationFromChaos.html#3042" class="Function">fiberTruncIsEmbedding</a><a id="3509" class="Symbol">)</a>
<a id="3511" class="Markup">```
</a><a id="3515" class="Background">
Not sure if this is helpful, unless you have that f is either injective or surjective,
and you&#39;re willing to define respectively cod or dom to be the image or quotient.
E.g. uncurry _++_ : List × List → List is surjective and defining Batch = List × List / fiberRel would be fine.
</a></pre></body></html>